{"ast":null,"code":"\"use strict\";\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n  return cooked;\n};\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tss_react_1 = require(\"tss-react\");\nvar tss_react_2 = require(\"tss-react\");\nvar lodash_round_1 = __importDefault(require(\"lodash.round\"));\nvar utils_1 = require(\"./utils\");\nvar ROTATION_SPEED_MIN = 200; // minimum possible duration of single particle full rotation\nvar ROTATION_SPEED_MAX = 800; // maximum possible duration of single particle full rotation\nvar CRAZY_PARTICLES_FREQUENCY = 0.1; // 0-1 frequency of crazy curvy unpredictable particles\nvar CRAZY_PARTICLE_CRAZINESS = 0.3; // 0-1 how crazy these crazy particles are\nvar BEZIER_MEDIAN = 0.5; // utility for mid-point bezier curves, to ensure smooth motion paths\nvar rotationKeyframes = utils_1.rotationTransforms.reduce(function (acc, xyz, i) {\n  var _a;\n  var rotateKeyframe = (0, tss_react_1.keyframes)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      to {\\n        transform: rotate3d(\", \", 360deg);\\n      }\"], [\"\\n      to {\\n        transform: rotate3d(\", \", 360deg);\\n      }\"])), xyz.join());\n  return __assign(__assign({}, acc), (_a = {}, _a[\"rotateKeyframe-\".concat(i)] = rotateKeyframe, _a));\n}, {});\nvar confettiKeyframes = function (degrees, height, width) {\n  var xLandingPoints = degrees.reduce(function (acc, degree, i) {\n    var _a;\n    var landingPoint = (0, utils_1.mapRange)(Math.abs((0, utils_1.rotate)(degree, 90) - 180), 0, 180, -width / 2, width / 2);\n    var xAxisIndexKeyframe = (0, tss_react_1.keyframes)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n      to {\\n          transform: translateX(\", \"px);\\n        }\"], [\"\\n      to {\\n          transform: translateX(\", \"px);\\n        }\"])), landingPoint);\n    return __assign(__assign({}, acc), (_a = {}, _a[\"xAxisIndexKeyframe-\".concat(i)] = xAxisIndexKeyframe, _a));\n  }, {});\n  var yAxisKeyframes = (0, tss_react_1.keyframes)(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n      to {\\n        transform: translateY(\", \"px);\\n      }\"], [\"\\n      to {\\n        transform: translateY(\", \"px);\\n      }\"])), height);\n  return __assign({\n    yAxisKeyframes: yAxisKeyframes\n  }, xLandingPoints);\n};\nvar confettoStyle = function (particle, duration, force, size, i, confettiKeyframesResult) {\n  var _a;\n  var rotation = Math.random() * (ROTATION_SPEED_MAX - ROTATION_SPEED_MIN) + ROTATION_SPEED_MIN;\n  var rotationIndex = Math.round(Math.random() * (utils_1.rotationTransforms.length - 1));\n  var durationChaos = duration - Math.round(Math.random() * 1000);\n  var shouldBeCrazy = Math.random() < CRAZY_PARTICLES_FREQUENCY;\n  var isCircle = (0, utils_1.shouldBeCircle)(rotationIndex);\n  // x-axis disturbance, roughly the distance the particle will initially deviate from its target\n  var x1 = shouldBeCrazy ? (0, lodash_round_1.default)(Math.random() * CRAZY_PARTICLE_CRAZINESS, 2) : 0;\n  var x2 = x1 * -1;\n  var x3 = x1;\n  // x-axis arc of explosion, so 90deg and 270deg particles have curve of 1, 0deg and 180deg have 0\n  var x4 = (0, lodash_round_1.default)(Math.abs((0, utils_1.mapRange)(Math.abs((0, utils_1.rotate)(particle.degree, 90) - 180), 0, 180, -1, 1)), 4);\n  // roughly how fast particle reaches end of its explosion curve\n  var y1 = (0, lodash_round_1.default)(Math.random() * BEZIER_MEDIAN, 4);\n  // roughly maps to the distance particle goes before reaching free-fall\n  var y2 = (0, lodash_round_1.default)(Math.random() * force * ((0, utils_1.coinFlip)() ? 1 : -1), 4);\n  // roughly how soon the particle transitions from explosion to free-fall\n  var y3 = BEZIER_MEDIAN;\n  // roughly the ease of free-fall\n  var y4 = (0, lodash_round_1.default)(Math.max((0, utils_1.mapRange)(Math.abs(particle.degree - 180), 0, 180, force, -force), 0), 4);\n  return _a = {}, _a[\"&#confetti-particle-\".concat(i)] = {\n    animation: \"\".concat(confettiKeyframesResult[\"xAxisIndexKeyframe-\".concat(i)], \" \").concat(durationChaos, \"ms forwards cubic-bezier(\").concat(x1, \", \").concat(x2, \", \").concat(x3, \", \").concat(x4, \")\"),\n    '& > div': {\n      width: isCircle ? size : Math.round(Math.random() * 4) + size / 2,\n      height: isCircle ? size : Math.round(Math.random() * 2) + size,\n      animation: \"\".concat(confettiKeyframesResult['yAxisKeyframes'], \" \").concat(durationChaos, \"ms forwards cubic-bezier(\").concat(y1, \", \").concat(y2, \", \").concat(y3, \", \").concat(y4, \")\"),\n      '&:after': __assign({\n        backgroundColor: particle.color,\n        animation: \"\".concat(rotationKeyframes[\"rotateKeyframe-\".concat(rotationIndex)], \" \").concat(rotation, \"ms infinite linear\")\n      }, isCircle ? {\n        borderRadius: '50%'\n      } : {})\n    }\n  }, _a;\n};\nvar makeStyles = (0, tss_react_2.createMakeStyles)({\n  useTheme: function () {}\n}).makeStyles;\nvar useStyles = function (_a) {\n  var particles = _a.particles,\n    duration = _a.duration,\n    height = _a.height,\n    width = _a.width,\n    force = _a.force,\n    particleSize = _a.particleSize;\n  return makeStyles({\n    name: 'ConfettiExplosion'\n  })(function (theme, _params, classes) {\n    var confettiKeyframesResult = confettiKeyframes(particles.map(function (particle) {\n      return particle.degree;\n    }), height, width);\n    var confettiStyles = particles.reduce(function (acc, particle, i) {\n      return __assign(__assign({}, acc), confettoStyle(particle, duration, force, particleSize, i, confettiKeyframesResult));\n    }, {});\n    return {\n      container: {\n        width: 0,\n        height: 0,\n        position: 'relative',\n        overflow: 'visible',\n        zIndex: 1200\n      },\n      particle: __assign(__assign({}, confettiStyles), {\n        '& > div': {\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          '&:after': {\n            content: \"''\",\n            display: 'block',\n            width: '100%',\n            height: '100%'\n          }\n        }\n      })\n    };\n  });\n};\nexports.default = useStyles;\nvar templateObject_1, templateObject_2, templateObject_3;","map":{"version":3,"names":["tss_react_1","require","tss_react_2","lodash_round_1","__importDefault","utils_1","ROTATION_SPEED_MIN","ROTATION_SPEED_MAX","CRAZY_PARTICLES_FREQUENCY","CRAZY_PARTICLE_CRAZINESS","BEZIER_MEDIAN","rotationKeyframes","rotationTransforms","reduce","acc","xyz","i","rotateKeyframe","keyframes","templateObject_1","__makeTemplateObject","join","__assign","_a","concat","confettiKeyframes","degrees","height","width","xLandingPoints","degree","landingPoint","mapRange","Math","abs","rotate","xAxisIndexKeyframe","templateObject_2","yAxisKeyframes","templateObject_3","confettoStyle","particle","duration","force","size","confettiKeyframesResult","rotation","random","rotationIndex","round","length","durationChaos","shouldBeCrazy","isCircle","shouldBeCircle","x1","default","x2","x3","x4","y1","y2","coinFlip","y3","y4","max","animation","backgroundColor","color","borderRadius","makeStyles","createMakeStyles","useTheme","useStyles","particles","particleSize","name","theme","_params","classes","map","confettiStyles","container","position","overflow","zIndex","left","top","content","display","exports"],"sources":["../src/styles.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}